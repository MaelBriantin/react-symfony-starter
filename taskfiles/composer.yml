version: "3"

tasks:
  install:
    desc: Install Composer dependencies in PHP container
    cmds:
      - "{{.DOCKER_RUN}} php composer install"
    silent: true

  require:
    desc: Add a Composer package
    interactive: true
    cmds:
      - |
        read -p "Enter the package name to add: " package
        if [ -z "$package" ]; then
          echo "Package name cannot be empty"
          exit 1
        fi
        {{.DOCKER_RUN}} php composer require "$package"
        echo "Package '$package' added successfully"
    silent: true